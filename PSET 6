#PSET 1 - Super simple program where i accept user input and print hello {name}

def main():
    name = input("What is your name: ")
    print("hello", name.capitalize())


main()

#2. A callback to PSET 1 where i had to print mario blocks on either side given user input. A bit fun to see how far and fast I have come since struggling
# on this 2 months ago

# TODO


def main():
    while True:
        user = input("Height: ")
        try:
            height = int(user)
        except ValueError:
            print("Invalid input")
        else:
            if height < 1 or height > 8:
                pass
            else:
                break

    # prints left side
    # input - n for that loop

    for bricks in range(height):
        space = height - int(bricks) - 1
        print((" " * space) + ("#" * (bricks + 1)), end="")
        print((" " * 2) + ("#" * (bricks + 1)))


main()

#3. Had to validate a credit card using Luhns algorithm. A call back to PSET 1. Got stuck for a good hour on the Luhns algo
# TODO

import sys


def main():
    number = get_number()
    print(luhn(number))


def get_number():
    while True:
        number = input("Number: ")
        if len(number) != 13 and len(number) != 15 and len(number) != 16:
            sys.exit("INVALID")
        else:
            break

    return number


def luhn(number):
    last = 0
    second_last = 0
    card = int(number)

    for _ in str(number):
        last += card % 10
        card //= 10

        temp = (card % 10) * 2
        if temp > 9:
            while temp > 0:
                temp_last = temp % 10
                second_last += temp_last
                temp //= 10
        else:
            second_last += temp

        card //= 10

    total = last + second_last
    last_digit = total % 10
    if last_digit != 0:
        sys.exit("INVALID")

    if len(number) == 13:
        if number[0:1] == "4":
            return "VISA"
        else:
            sys.exit("INVALID")

    elif len(number) == 16:
        if int(number[0:2]) > 50 and int(number[0:2]) < 56:
            return "MASTERCARD"
        elif number[0:1] == "4":
            return "VISA"
        else:
            sys.exit("INVALID")

    elif len(number) == 15:
        if int(number[0:2]) == 34 or int(number[0:2]) == 37:
            return "AMEX"
        else:
            sys.exit("INVALID")


main()

#4. Had to get the grade of a text using Coleman-Liau's index

# TODO
import re


def main():
    text = input("Text: ").strip()

    sentence = re.split("\!|\?|\.", text)
    sentences = len(sentence) - 1
    word = text.split(" ")
    words = len(word)
    letters = 0
    for t in text:
        if t.isalpha():
            letters += 1

    print(coleman_index(sentences, words, letters))
    print(f"sentences: {sentences} \nwords: {words} \nletters: {letters}")


def coleman_index(sentences, words, letters):
    L = int(letters) / int(words) * 100
    S = int(sentences) / int(words) * 100

    final = round(0.0588 * L - 0.296 * S - 15.8)
    if final > 16:
        return f"Grade: 16+"
    elif final < 1:
        return f"Before Grade 1"
    else:
        return f"Grade: {final}"


main()


